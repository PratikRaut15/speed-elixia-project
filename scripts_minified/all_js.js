function add_fuelcon(e,t){jQuery("#vehicleid").val(e),alert(e),3==t&&jQuery("#fuelpost_"+e).modal("show")}function callTicket(){jQuery("#Ticket").modal("show")}function use_maintenance(e){if(3==e)var t="setsession=3";else var t="setsession=1";jQuery.ajax({type:"POST",url:"../user/route.php",data:t,cache:!1,success:function(t){1==e&&(window.location.href="../../modules/approvals/approvals.php?id=2"),2==e&&(window.location.href="../../modules/transactions/transaction.php?id=2"),3==e&&(window.location.href="../../modules/realtimedata/warehouse.php")}})}function remove_maintenance(e){if(3==e)var t="removesession=3";else var t="removesession=1";jQuery.ajax({type:"POST",url:"../user/route.php",data:t,cache:!1,success:function(t){1==e&&(window.location.href="../../modules/delivery/delivery.php"),2==e&&(window.location.href="../../modules/realtimedata/realtimedata.php"),3==e&&(window.location.href="../../modules/realtimedata/warehouse.php")}})}function addtransaction_view(e,t){switch(jQuery("#vehicle_id").val(e),jQuery(".tyre_field").hide(),jQuery("#expandable").html(""),jQuery("#category_id").val(t),t.toString()){case"0":jQuery("#head_fortransac").html("Quotation for Battery Replacement"),get_dealer(e,t);break;case"1":jQuery("#head_fortransac").html("Quotation for Tyre Replacement"),jQuery(".tyre_field").show(),get_dealer(e,t),jQuery("#expandable").html(jQuery("#tyre_fields").html());break;case"2":jQuery("#head_fortransac").html("Quotation for Repair / Service"),get_dealer(e,t),jQuery(".tyre_field").show(),jQuery("#expandable").html(jQuery("#parts_service_category").html());break;case"3":jQuery("#vehicle_id1").val(e),jQuery("#category_id1").val(t),jQuery("#accident_head_fortransac").html("Accident Event Entry / Insurance Claim");break;case"5":jQuery("#head_fortransac").html("Quotation for Accessories"),get_dealer(e,t),jQuery("#expandable").html(jQuery("#accessory_category").html())}3==t?jQuery("#accidentview_approval").modal("show"):jQuery("#addview_approval").modal("show"),jQuery("#transaction_msg").html(""),jQuery("#transaction_msg").removeClass("alert alert-danger"),jQuery("#transaction_msg").removeClass("alert alert-info")}function get_dealer(e,t){return jQuery.ajax({url:"route_ajax.php",type:"POST",cache:!1,data:{dealer_vehicle_id:e,vehicle_type:t},dataType:"html",success:function(e){jQuery("#dealerid").empty(),jQuery("#dealerid").append(e)}}),!1}function getinsurance(e){return jQuery("#getaccident_approval #radio_show").hide(),jQuery("#getaccident_approval #insurance_div").show(),jQuery("#getaccident_approval #insurance_status").html("Insurance Status : No"),""!=e?(jQuery.ajax({url:"route_ajax.php",type:"POST",cache:!1,data:{insurance_vehicle_id:e},dataType:"json",success:function(e){jQuery("#getaccident_approval #insurance_value").val(e.value),jQuery("#getaccident_approval #premium_value").val(e.premium),jQuery("#getaccident_approval #StartDate").val(e.start_date),jQuery("#getaccident_approval #EndDate").val(e.end_date),jQuery("#getaccident_approval #ins_amount").val(e.amount),jQuery("#getaccident_approval #ins_notes").val(e.notes),jQuery("#getaccident_approval #edit_insurance_company").val(e.companyid),jQuery("#getaccident_approval #near_place").val(e.claim_place),jQuery("#getaccident_approval #insurance1").attr("checked","true"),jQuery("#radio_show input").attr("readonly","readonly"),jQuery("#radio_show select").attr("readonly","readonly"),jQuery("#getaccident_approval textarea").attr("readonly","readonly"),jQuery("#getaccident_approval #insurance_status").html("Insurance Status : Yes"),jQuery("#getaccident_approval #insurance_div").hide(),jQuery("#getaccident_approval #radio_show").show()}}),!1):void alert("please fill up general details first!!")}function getbattery(e){return""!=e?(jQuery.ajax({url:"route_ajax.php",type:"POST",cache:!1,data:{batt_vehicle_id:e,type:"1"},dataType:"html",success:function(e){jQuery("#battery_body").html(""),jQuery("#battery_body").append(e)}}),!1):void alert("please fill up general details first!!")}function addbattery_approval(){var e=jQuery("#vehicle_id").val();if(""!=e){var t=jQuery("#getbattery_approval").serialize()+"&battery_vehicleid="+e;return jQuery.ajax({url:"../vehicle/route_ajax.php",type:"POST",cache:!1,data:t,success:function(e){"notok"==e||"ok"==e&&(jQuery("#addbattery_approval").modal("hide"),jQuery("#battery_approval_success").show(),jQuery("#battery_approval_success").fadeOut(3e3))}}),!1}alert("please fill up general details first!!")}function GetParameterValues(e){for(var t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),r=0;r<t.length;r++){var a=t[r].split("=");if(a[0]==e)return a[1]}}function changeaccount(e){if("0"!=e){var t="account="+e;jQuery.ajax({type:"POST",url:"../../modules/user/route.php",data:t,cache:!1,success:function(e){window.location.reload()}})}}function updategroupid(){var e=jQuery("#grouplist").val();if("add"!=e){var t="groupid="+e;jQuery.ajax({type:"POST",url:"../../modules/user/route.php",data:t,cache:!1,success:function(e){window.location.reload()}})}else window.location.href="../../modules/group/group.php"}function submenu_show(){jQuery("#horizontalmenu1").click(function(){jQuery("#submenu").toggle()})}function pullnf(){3==type?type=1:type+=1,jQuery.ajax({type:"POST",url:"../notification/pullnf_ajax.php",data:{type:type},async:!0,cache:!1,dataType:"json",success:function(e){var t=e.result;t&&jQuery.each(t,function(e,t){0==t.type&&jQuery.sticky("<font color='#FF0000'>Alert:</font><br/>"+t.notif,{autoclose:1e4,position:"top-left",type:"st-topleft1"}),1==t.type&&jQuery.sticky("News: "+t.notif,{autoclose:1e4,position:"top-left",type:"st-topleft2"}),2==t.type&&jQuery.sticky("<font color='#0193CC'>Tip: </font><br/>"+t.notif,{autoclose:1e4,position:"top-left",type:"st-topleft3"}),3==t.type&&jQuery.sticky("<font color='#006633'>Quick Link: </font><br/>"+t.notif,{autoclose:1e4,position:"top-left",type:"st-topleft4"})}),refreshmin()}})}function refreshmin(){}function PrintElem(e){Popup(jQuery(e).html())}function Popup(e){var t=window.open("","Report","");return t.document.write("<html><head><title>Graphical Report</title>"),t.document.write('</head><body style="width: 90%; Height: 768px;"><br><br><br><br><br>'),t.document.write(e),t.document.write("</body></html>"),t.print(),t.close(),!0}function generate_report_type(e){if(""!==e){var t="";switch(e){case"distance":t="KM";break;case"avg_speed":t="KM/Hour";break;case"idle_time":t="Hour";break;case"genset_avg":t="Mins"}jQuery("#reportUnit").html(t)}}function addExceptionAlert(e){if("div"==e)var t=jQuery("#exceptionAdd :input").serialize();else var t=jQuery("#exceptionAdd").serialize();t+="&todo=addException",jQuery.ajax({type:"POST",url:"../../modules/user/exception_ajax.php",data:t,cache:!1,success:function(e){jQuery("#excepResult").html(e)}})}function delete_exception(e){var t="excep_id="+e+"&todo=deleteEception";return confirm("Confirm to delete this Alert?")?void jQuery.ajax({type:"POST",url:"../../modules/user/exception_ajax.php",data:t,cache:!1,success:function(t){jQuery("#messageSpanExceptionPop").html(t),jQuery("."+e).hide()}}):!1}function validate_exception(){var e=jQuery("#exceptionSms").is(":checked"),t=jQuery("#exceptionEmail").is(":checked"),r=jQuery("#report_type_input").val();if(e===!0||t===!0){if(""===jQuery.trim(r))return alert("Please enter Trip Exception Value."),!1;if(!jQuery.isNumeric(r))return alert("Trip Exception Value should be Numeric."),!1;var a=jQuery("#checkpoint_start").val(),o=jQuery("#checkpoint_end").val();if(a==o)return alert("Start and End Checkpoint should be different"),!1}return!0}function show_error(e){var t="<b style='color:red;font-weight:bold;'>"+e+"</b>";jQuery("#StatusTD").show(),jQuery("#Status").html(t)}function validate_upload(e){var t=jQuery("#"+e).val(),r=valid_file_xls,a=t.substr(t.lastIndexOf(".")+1);if(-1==jQuery.inArray(a,r))return show_error("Invalid file type"),!1;var o=jQuery("#"+e)[0].files[0].size,i=valid_size_xls;return o>i?(show_error("File Size cannot cannot exceed 2 MB"),!1):!0}function countChar(e){var t=e.maxLength>0?e.maxLength:50,r=e.value.length;if(r>=t)e.value=e.value.substring(0,t);else{var a=t-r;$("#charNum").text(a+" characters left")}}function GetDateString(e,t){var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];getPaddedComp=function(e){return parseInt(e)<10?"0"+e:e},formattedDate=t,o={"y+":e.getFullYear(),"M+":r[e.getMonth()],"d+":getPaddedComp(e.getDate()),"D+":a[e.getDay()],"h+":getPaddedComp(e.getHours()>12?e.getHours()%12:e.getHours()),"H+":getPaddedComp(e.getHours()),"m+":getPaddedComp(e.getMinutes()),"s+":getPaddedComp(e.getSeconds()),"S+":getPaddedComp(e.getMilliseconds()),"b+":e.getHours()>=12?"PM":"AM"};for(var i in o)new RegExp("("+i+")").test(t)&&(formattedDate=formattedDate.replace(RegExp.$1,o[i]));return formattedDate}var type=0;jQuery.noConflict(),jQuery(document).ready(function(){submenu_show();var e="#dialog",t=jQuery(document).height(),r=jQuery(window).width();jQuery("#mask").css({width:r,height:t}),jQuery("#mask1").css({width:r,height:t}),jQuery("#mask1").fadeIn(1e3),jQuery("#mask1").fadeTo("slow",.8);var a=jQuery(window).height(),o=jQuery(window).width();jQuery(e).css("top",a/2-jQuery(e).height()/2),jQuery(e).css("left",o/2-jQuery(e).width()/2),jQuery(e).fadeIn(2e3),jQuery(".window #close_popup").click(function(e){e.preventDefault(),jQuery(".window").hide(),jQuery("#mask1").fadeOut("slow"),jQuery("#mask").fadeIn(1e3),jQuery("#mask").fadeTo("slow",.8),jQuery("#mask").show(),jQuery(".window1").show()}),jQuery(".window1 #close_popup1").click(function(e){e.preventDefault(),jQuery("#mask").hide(),jQuery(".window1").hide()}),jQuery("#mask1").click(function(){jQuery(this).hide(),jQuery("#mask1").fadeOut("slow"),jQuery(".window").hide(),jQuery(".window1").show(),jQuery("#mask").fadeIn(1e3),jQuery("#mask").show()}),jQuery("#mask").click(function(){jQuery(this).hide(),jQuery("#mask1").hide(),jQuery(".window1").hide()}),jQuery(".editbox").hide(),jQuery(".edit_td").dblclick(function(){var e=jQuery(this).attr("id");jQuery("#vehicleno_"+e).hide(),jQuery("#vehicleno_input_"+e).show(),jQuery("#vehicleno_input_"+e).focus()}).change(function(){var e=jQuery(this).attr("id"),t=jQuery("#vehicleno_input_"+e).val(),r="vehicleid="+e+"&vehicleno="+t;jQuery("#vehicleno_"+e).html('<img src="load.gif" />'),t.length>0?jQuery.ajax({type:"POST",url:"../vehicle/route_ajax.php",data:r,cache:!1,success:function(r){jQuery("#vehicleno_"+e).html(t)}}):alert("Enter something.")}),jQuery(".edit_td1").dblclick(function(){var e=jQuery(this).attr("id");jQuery("#drivername_"+e).hide(),jQuery("#drivername_input_"+e).show(),jQuery("#driverno_"+e).hide(),jQuery("#driverno_input_"+e).show(),jQuery("#driverno_input_"+e).focus()}).change(function(){var e=jQuery(this).attr("id"),t=jQuery("#drivername_input_"+e).val(),r=jQuery("#driverno_input_"+e).val(),a="vehicleid="+e+"&drivername="+t+"&driverno="+r;jQuery("#drivername_"+e).html('<img src="load.gif" />'),jQuery("#driverno_"+e).html('<img src="load.gif" />'),t.length>0&&r.length>0?jQuery.ajax({type:"POST",url:"../vehicle/route_ajax.php",data:a,cache:!1,success:function(a){jQuery("#drivername_"+e).html(t),jQuery("#driverno_"+e).html(r)}}):alert("Enter something.")}),jQuery(".editbox").mouseup(function(){return!1}),jQuery(".editbox").keypress(function(e){13==e.which&&(jQuery(".editbox").hide(),jQuery(".text").show())}),jQuery(document).mouseup(function(){jQuery(".editbox").hide(),jQuery(".text").show()})}),jQuery(function(){jQuery("body").click(function(){jQuery("#success_status").hide()})});